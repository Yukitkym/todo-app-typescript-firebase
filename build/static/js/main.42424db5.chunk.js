(this["webpackJsonpreact-typescript"]=this["webpackJsonpreact-typescript"]||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(13),s=n.n(c),r=n(78),i=n(14),o=n(43),l=n(20),u=n(31),j=n.n(u),p=n(135),b=n(139),d=n(136),h=n(76),O=n.n(h),x=n(140),_=n(75),f=n.n(_),m=n(59),g=n.n(m),k=n(55),v=(n(104),n(93),k.a.initializeApp({apiKey:"AIzaSyDqzesSpzby7EjluiXL55346_kE_dEYsFk",authDomain:"udemy-todo-9eea6.firebaseapp.com",databaseURL:"https://udemy-todo-9eea6.firebaseio.com",projectId:"udemy-todo-9eea6",storageBucket:"udemy-todo-9eea6.appspot.com",messagingSenderId:"259210199233",appId:"1:259210199233:web:c12bcae8ee6c40314c9440"}).firestore()),y=k.a.auth(),w=n(130),C=n(134),S=n(74),E=n.n(S),I=n(73),A=n.n(I),L=n(63),N=n.n(L),P=n(6),z=function(e){var t=Object(a.useState)(e.title),n=Object(l.a)(t,2),c=n[0],s=n[1];return Object(P.jsxs)(w.a,{children:[Object(P.jsx)("h2",{children:e.title}),Object(P.jsx)(C.a,{container:!0,justifyContent:"flex-end",children:Object(P.jsx)(b.a,{InputLabelProps:{shrink:!0},label:"Edit task",value:c,onChange:function(e){return s(e.target.value)}})}),Object(P.jsx)("button",{className:N.a.taskitem__icon,onClick:function(){v.collection("tasks").doc(e.id).set({title:c},{merge:!0})},children:Object(P.jsx)(A.a,{})}),Object(P.jsx)("button",{className:N.a.taskitem__icon,onClick:function(){v.collection("tasks").doc(e.id).delete()},children:Object(P.jsx)(E.a,{})})]})},B=Object(x.a)({field:{marginTop:30,marginBottom:20},list:{margin:"auto",width:"40%"}}),R=function(e){var t=Object(a.useState)([{id:"",title:""}]),n=Object(l.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(""),i=Object(l.a)(r,2),u=i[0],h=i[1],x=B();Object(a.useEffect)((function(){var t=y.onAuthStateChanged((function(t){!t&&e.history.push("login")}));return function(){return t()}})),Object(a.useEffect)((function(){var e=v.collection("tasks").onSnapshot((function(e){s(e.docs.map((function(e){return{id:e.id,title:e.data().title}})))}));return function(){return e()}}),[]);return Object(P.jsxs)("div",{className:g.a.app__root,children:[Object(P.jsx)("h1",{children:"Todo App by React/Firebase"}),Object(P.jsx)("button",{className:g.a.app__logout,onClick:Object(o.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.signOut();case 3:e.history.push("login"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),children:Object(P.jsx)(f.a,{})}),Object(P.jsx)("br",{}),Object(P.jsx)(p.a,{children:Object(P.jsx)(b.a,{className:x.field,InputLabelProps:{shrink:!0},label:"New task ?",value:u,onChange:function(e){return h(e.target.value)}})}),Object(P.jsx)("button",{className:g.a.app__icon,disabled:!u,onClick:function(e){v.collection("tasks").add({title:u}),h("")},children:Object(P.jsx)(O.a,{})}),Object(P.jsx)(d.a,{className:x.list,children:c.map((function(e){return Object(P.jsx)(z,{id:e.id,title:e.title},e.id)}))})]})},D=n(77),F=n.n(D),K=n(137),T=n(138),W=function(e){var t=Object(a.useState)(!0),n=Object(l.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(""),i=Object(l.a)(r,2),u=i[0],d=i[1],h=Object(a.useState)(""),O=Object(l.a)(h,2),x=O[0],_=O[1];return Object(a.useEffect)((function(){var t=y.onAuthStateChanged((function(t){t&&e.history.push("/")}));return function(){return t()}}),[e.history]),Object(P.jsxs)("div",{className:F.a.login__root,children:[Object(P.jsx)("h1",{children:c?"Login":"Register"}),Object(P.jsx)("br",{}),Object(P.jsx)(p.a,{children:Object(P.jsx)(b.a,{InputLabelProps:{shrink:!0},name:"email",label:"E-mail",value:u,onChange:function(e){d(e.target.value)}})}),Object(P.jsx)("br",{}),Object(P.jsx)(p.a,{children:Object(P.jsx)(b.a,{InputLabelProps:{shrink:!0},name:"password",label:"Password",type:"password",value:x,onChange:function(e){_(e.target.value)}})}),Object(P.jsx)("br",{}),Object(P.jsx)(K.a,{variant:"contained",color:"primary",size:"small",onClick:c?Object(o.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.signInWithEmailAndPassword(u,x);case 3:e.history.push("/"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))):Object(o.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.createUserWithEmailAndPassword(u,x);case 3:e.history.push("/"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),children:c?"Login":"Register"}),Object(P.jsx)("br",{}),Object(P.jsx)(T.a,{align:"center",children:Object(P.jsx)("span",{onClick:function(){return s(!c)},children:c?"Create new account ?":"Back to login"})})]})};s.a.render(Object(P.jsx)(a.StrictMode,{children:Object(P.jsx)(r.a,{children:Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(i.a,{exact:!0,path:"/",component:R}),Object(P.jsx)(i.a,{exact:!0,path:"/login",component:W})]})})}),document.getElementById("root"))},59:function(e,t,n){e.exports={app__root:"App_app__root__3K9aQ",app__icon:"App_app__icon__38uiD",app__logout:"App_app__logout__1ZKWu"}},63:function(e,t,n){e.exports={taskitem__icon:"TaskItem_taskitem__icon__PxCng"}},77:function(e,t,n){e.exports={login__root:"Login_login__root__2zlM9"}}},[[102,1,2]]]);
//# sourceMappingURL=main.42424db5.chunk.js.map