{"version":3,"sources":["firebase.ts","TaskItem.tsx","App.tsx","Login.tsx","index.tsx","App.module.css","TaskItem.module.css","Login.module.css"],"names":["db","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","auth","TaskItem","props","useState","title","setTitle","ListItem","Grid","container","justifyContent","TextField","InputLabelProps","shrink","label","value","onChange","e","target","className","styles","taskitem__icon","onClick","collection","doc","id","set","merge","delete","useStyles","makeStyles","field","marginTop","marginBottom","list","margin","width","App","tasks","setTasks","input","setInput","classes","useEffect","unSub","onAuthStateChanged","user","history","push","onSnapshot","snapshot","docs","map","data","app__root","app__logout","a","signOut","alert","message","FormControl","app__icon","disabled","add","List","task","Login","isLogin","setIsLogin","email","setEmail","password","setPassword","login__root","name","type","Button","variant","color","size","signInWithEmailAndPassword","createUserWithEmailAndPassword","Typography","align","ReactDom","render","exact","path","component","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.42424db5.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\n\nconst firebaseApp = firebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_APIKEY,\n  authDomain: process.env.REACT_APP_FIREBASE_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID\n});\n\nexport const db = firebaseApp.firestore();\nexport const auth = firebase.auth();\n","import React, { useState } from \"react\";\nimport { ListItem, TextField, Grid } from \"@material-ui/core\";\nimport DeleteOutlinedIcon from \"@material-ui/icons/DeleteOutlineOutlined\";\nimport EditOutlinedIcon from \"@material-ui/icons/EditOutlined\";\n\nimport { db } from \"./firebase\";\nimport styles from \"./TaskItem.module.css\";\n\ninterface PROPS {\n  id: string;\n  title: string;\n}\n\nconst TaskItem: React.FC<PROPS> = (props) => {\n  const [title, setTitle] = useState(props.title);\n\n  const editTask = () => {\n    db.collection(\"tasks\").doc(props.id).set({ title: title }, { merge: true });\n  };\n  const deleteTask = () => {\n    db.collection(\"tasks\").doc(props.id).delete();\n  };\n  return (\n    <ListItem>\n      <h2>{props.title}</h2>\n      <Grid container justifyContent=\"flex-end\">\n        <TextField\n          InputLabelProps={{\n            shrink: true\n          }}\n          label=\"Edit task\"\n          value={title}\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n            setTitle(e.target.value)\n          }\n        />\n      </Grid>\n      <button className={styles.taskitem__icon} onClick={editTask}>\n        <EditOutlinedIcon />\n      </button>\n      <button className={styles.taskitem__icon} onClick={deleteTask}>\n        <DeleteOutlinedIcon />\n      </button>\n    </ListItem>\n  );\n};\n\nexport default TaskItem;\n","import React, { useEffect, useState } from \"react\";\nimport { FormControl, List, TextField } from \"@material-ui/core\";\nimport AddToPhotosIcon from \"@material-ui/icons/AddToPhotos\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\n\nimport styles from \"./App.module.css\";\nimport { db } from \"./firebase\";\nimport { auth } from \"./firebase\";\nimport TaskItem from \"./TaskItem\";\n\nconst useStyles = makeStyles({\n  field: {\n    marginTop: 30,\n    marginBottom: 20\n  },\n  list: {\n    margin: \"auto\",\n    width: \"40%\"\n  }\n});\n\nconst App: React.FC = (props: any) => {\n  const [tasks, setTasks] = useState([{ id: \"\", title: \"\" }]);\n  const [input, setInput] = useState(\"\");\n  const classes = useStyles();\n\n  useEffect(() => {\n    const unSub = auth.onAuthStateChanged((user) => {\n      !user && props.history.push(\"login\");\n    });\n    return () => unSub();\n  });\n\n  useEffect(() => {\n    const unSub = db.collection(\"tasks\").onSnapshot((snapshot) => {\n      setTasks(\n        snapshot.docs.map((doc) => ({ id: doc.id, title: doc.data().title }))\n      );\n    });\n    return () => unSub();\n  }, []);\n\n  const newTask = (e: React.MouseEvent<HTMLButtonElement>) => {\n    db.collection(\"tasks\").add({ title: input });\n    setInput(\"\");\n  };\n\n  return (\n    <div className={styles.app__root}>\n      <h1>Todo App by React/Firebase</h1>\n      <button\n        className={styles.app__logout}\n        onClick={async () => {\n          try {\n            await auth.signOut();\n            props.history.push(\"login\");\n          } catch (error: any) {\n            alert(error.message);\n          }\n        }}\n      >\n        <ExitToAppIcon />\n      </button>\n      <br />\n      <FormControl>\n        <TextField\n          className={classes.field}\n          InputLabelProps={{\n            shrink: true\n          }}\n          label=\"New task ?\"\n          value={input}\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n            setInput(e.target.value)\n          }\n        />\n      </FormControl>\n      <button className={styles.app__icon} disabled={!input} onClick={newTask}>\n        <AddToPhotosIcon />\n      </button>\n\n      <List className={classes.list}>\n        {tasks.map((task) => (\n          <TaskItem key={task.id} id={task.id} title={task.title} />\n        ))}\n      </List>\n    </div>\n  );\n};\nexport default App;\n","import React, { useState, useEffect } from \"react\";\nimport styles from \"./Login.module.css\";\nimport { Button, FormControl, TextField, Typography } from \"@material-ui/core\";\nimport { auth } from \"./firebase\";\n\nconst Login: React.FC = (props: any) => {\n  const [isLogin, setIsLogin] = useState(true);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  useEffect(() => {\n    const unSub = auth.onAuthStateChanged((user) => {\n      user && props.history.push(\"/\");\n    });\n    return () => unSub();\n  }, [props.history]);\n\n  return (\n    <div className={styles.login__root}>\n      <h1>{isLogin ? \"Login\" : \"Register\"}</h1>\n      <br />\n      <FormControl>\n        <TextField\n          InputLabelProps={{\n            shrink: true\n          }}\n          name=\"email\"\n          label=\"E-mail\"\n          value={email}\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n            setEmail(e.target.value);\n          }}\n        />\n      </FormControl>\n      <br />\n      <FormControl>\n        <TextField\n          InputLabelProps={{\n            shrink: true\n          }}\n          name=\"password\"\n          label=\"Password\"\n          type=\"password\"\n          value={password}\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n            setPassword(e.target.value);\n          }}\n        />\n      </FormControl>\n      <br />\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        size=\"small\"\n        onClick={\n          isLogin\n            ? async () => {\n                try {\n                  await auth.signInWithEmailAndPassword(email, password);\n                  props.history.push(\"/\");\n                } catch (error: any) {\n                  alert(error.message);\n                }\n              }\n            : async () => {\n                try {\n                  await auth.createUserWithEmailAndPassword(email, password);\n                  props.history.push(\"/\");\n                } catch (error: any) {\n                  alert(error.message);\n                }\n              }\n        }\n      >\n        {isLogin ? \"Login\" : \"Register\"}\n      </Button>\n      <br />\n      <Typography align=\"center\">\n        <span onClick={() => setIsLogin(!isLogin)}>\n          {isLogin ? \"Create new account ?\" : \"Back to login\"}\n        </span>\n      </Typography>\n    </div>\n  );\n};\n\nexport default Login;\n","import { StrictMode } from \"react\";\nimport ReactDom from \"react-dom\";\nimport { Route, BrowserRouter } from \"react-router-dom\";\n\nimport App from \"./App\";\nimport Login from \"./Login\";\n\nReactDom.render(\n  <StrictMode>\n    <BrowserRouter>\n      <>\n        <Route exact path=\"/\" component={App} />\n        <Route exact path=\"/login\" component={Login} />\n      </>\n    </BrowserRouter>\n  </StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app__root\":\"App_app__root__3K9aQ\",\"app__icon\":\"App_app__icon__38uiD\",\"app__logout\":\"App_app__logout__1ZKWu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"taskitem__icon\":\"TaskItem_taskitem__icon__PxCng\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login__root\":\"Login_login__root__2zlM9\"};"],"sourceRoot":""}